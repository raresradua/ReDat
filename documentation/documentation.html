<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>ReDAT</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,600,700">
</head>

<body>
    <article resource="#" typeof="schema:ScholarlyArticle">
        <h1 property="schema:name"> Documentatie ReDAT </h1>
        <div class="contentinfo">
            <section typeof="sa:AuthorsList">
                <h2>Autori</h2>
                <ul>
                    <li typeof="sa:ContributorRole" property="schema:author">
                        <span typeof="schema:Person" resource="https://github.com/vladcociorva/">
                            <meta property="schema:givenName" content="Vlad">
                            <meta property="schema:additionalName" content="Iulian">
                            <meta property="schema:familyName" content="Cociorva">
                            <span property="schema:name"><a href="https://github.com/vladcociorva/">Vlad Iulian Cociorva</a> </span>
                        </span>
                    </li>
                    <li typeof="sa:ContributorRole" property="schema:author">
                        <span typeof="schema:Person" resource="https://github.com/raresradua/">
                            <meta property="schema:givenName" content="Rares">
                            <meta property="schema:additionalName" content="Aurelian">
                            <meta property="schema:familyName" content="Radu">
                            <span property="schema:name"><a href="https://github.com/raresradua/">Rares Aurelian Radu</a> </span>
                        </span>
                    </li>
                </ul>
            </section>

            <section typeof="sa:license">
                <h2> Licenta </h2>
                <a href="https://en.wikipedia.org/wiki/MIT_License" property="schema:license" typeof="CreativeWork"> MIT License </a>
            </section>

        </div>

        <section>
            <h2>1. Introducere </h2>
            <p>Datorita popularitatii platformei <a href="https://reddit.com">Reddit</a>, se doreste a realiza o aplicatie care sa monitorizeze comunitatile (subreddit-urile) pe care un utilizator le urmareste pentru a oferi o vizualizare ampla asupra anumitor
                informatii precum activitatea utilizatorilor (postari, comentarii, upvote-uri, downvote-uri etc.) sub forma de statistici.
            </p>
        </section>

        <section>
            <h2>2. Descrierea aplicatiei </h2>
            <p>Principalele componente ale produsului sunt specificate in imaginea de mai jos: </p>
            <div class="image">
                <img src="./images/arhitectura.svg" alt="Arhitectura">
            </div>


            <p> Aplicatia poate fi folosita dupa autentificarea cu contul de Reddit. In acest mod se pot monitoriza comunitatile la care este abonat utilizatorul autentificat.
            </p>
            <p> De asemenea se poate folosi API-ul pus la dispozitie pentru a face request-uri catre server, fara a folosi front-end-ul, in caz ca se doreste acest lucru, pentru a obtine statistici generale, despre diferite comunitati.
            </p>
        </section>

        <section>
            <h2>3. Paginile aplicatiei</h2>

            <h3> 3.1 Sign in</h3>
            <p>Aceasta pagina este pagina care se va deschide prima data, iar user-ul va trebui sa apase pe butonul de Sign In pentru a se autentifica cu contul sau de Reddit pentru a putea vedea statisticile pentru subredditurile la care aceste este abonat.
            </p>

            <div class="image">
                <img src="./images/sign-in-page.png" alt="SingIn">
            </div>
            <h3> 3.2 Pagina principala</h3>
            <p>Dupa ce user-ul se autentifica, va fi redirectionat pe aceasta pagina, care va pune la dispozitie informatii legate de un anumit subreddit. Va putea vizualiza cele mai populare postari de astazi, din saptamana aceasta, de luna aceasta sau
                de anul acesta, precum si cine a postat impreuna cu numarul de comentarii si upvotes. Va putea vizualiza si descarca diagrame care arata numarul de comentarii per Top Post dintr-o zi, statistica este facuta pentru o perioada de o luna.
                Grafic care arata fluctuarea numarului de postari din ultima luna si un pie chart care evidentiaza cele mai folosite cuvinte din utlimele 1000 de postari. In josul paginii sunt puse la dispozitie tabele cu moderatorii subreddit-ului, utilizatorii
                care au postat cel mai des in subreddit precum si numarul postarilor sale si utilizatorii cu cele mai multe comentarii impreuna cu numarul de comentarii.
            </p>

            <div class="main">
                <div class="imageM">
                    <img src="./images/main-statistics-1.png" alt="main">
                </div>
                <div class="imageM">
                    <img src="./images/main-statistics-2.png" alt="main">
                </div>
                <div class="imageM">
                    <img src="./images/main-statistics-3.png" alt="main">
                </div>
            </div>

            <h3> 3.3 Documentatia API-ului</h3>
            <p>In aceasta pagina se ofera documentatia API-ului oferit de aplicatia noastra web.</p>
            <br>
            <p>Este prezentata structura fisierului JSON precum si exemple pentru request-uri si raspunsuri</p>
            <div class="image">
                <img src="./images/api.png" alt="api">
            </div>
            <p>
                Fara a utiliza front-end-ul aplicatiei, un utilizator poate, face apeluri catre API pentru a putea lua anumite informatii despre un subreddit <b>/api/r/{nume_subreddit}</b>, precum si a vedea cate postari sau comentarii a lasat un anumit
                utilizator intr-un subreddit <b>/api/r/{nume_subreddit}/{username}</b>
            </p>

            <div class="main">
                <div class="imageM">
                    <img src="./images/api-1.png" alt="api1">
                    <img src="./images/api-2.png" alt="api2">
                </div>
            </div>

        </section>

        <section>
            <h2>4. Navigation Bar si Footer</h2>

            <h3> 4.1 Navigation Bar</h3>
            <p>Bara de navigatie consta intr-o bara de cautare in care user-ul logat poate introduce numele unui subreddit la care este abonat si astfel va putea vizualiza statistici pentru acesta. Este un dropdown list cu toate subreddit-urile unui abonat,
                care pentru fiecare litera introdusa de un utilizator, se vor afisa subreddit-urile cu acel prefix</p>
            <div class="main">
                <div class="imageM">
                    <img src="./images/nav-1.png" alt="nav1">
                    <img src="./images/nav-2.png" alt="nav2">
                </div>
            </div>
            <br>
            <p>De asemenea sunt si doua butoane. Butonul API redirectioneaza user-ul spre pagina care contine documentatia API-ului. Butonul LogOut va deloga user-ul.</p>
            <h3> 4.2 Footer</h3>
            <p>Footer-ul contine doua butoane. Butonul GitHub va deschide intr-un nou tab repo-ul aplicatiei ReDat. Butonul ContactUs va redirectiona user-ul catre pagina de Contact.</p>
        </section>

        <section>
            <h2>5. Detalii de implementare</h2>
            <h3>5.1 SignIn</h3>
            <p>Pentru ca un utilizator sa se poata loga cu reddit-ul, ne-am folosit de API-ul public de la Reddit si de documentatia pentru autentificarea cu <a href="https://github.com/reddit-archive/reddit/wiki/oauth2">OAuth2</a></p>
            <p>Ne-am folosit de cURL pentru a face GET request si prelua acces_token-ul, iar intr-un COOKIE am memorat header-ul Authorization in forma {token_type} : {acces_token} </p>
            <div class="imageM">
                <img src="./images/signin.png" alt="sign">
            </div>
            <h3>Fiecare statistica a fost preluata facand GET request-uri folosind API-ul public de la Reddit si primind ca raspuns JSON-uri cu informatiile care sunt documentate in <a href="https://www.reddit.com/dev/api/">documentatia API-ului de la Reddit</a></h3>
            <div class="imageM">
                <img src="./images/requests.png" alt="req">
            </div>
            <h3>5.2 Top Posts table</h3>
            <p>Avem o functie async updateTopPosts, await fetch(`https://www.reddit.com/r/${location.pathname.split("/").pop()}/top.json?t=${timePeriod}`) face un request catre url-ul din paranteza, iar datorita keyword-ului await, functia updateTopPosts
                este pusa in asteptare pana cand request-ul este facut. Cand request-ul este gata, din raspunsul primit extragem un obiect de tip JSON, iar la final submissions va contine informatiile de care avem nevoie pentru tabelul nostru.</p>
            <div class="imageM">
                <img src="./images/async.png" alt="async">
            </div>
            <h3>Grafice Plotly</h3>
            <p>Pentru afisarea plot-urilor, am folosit libraria oferita de Plotly. Datele diagramelor sunt preluate cu ajutorul request-urilor catre Reddit API-ului si folosite pentru a crea plot-uri de tip linie, bar si pie</p>
            <div class="imageM">
                <img src="./images/async.png" alt="plotly">
            </div>
        </section>

        <section>
            <h2>6. Video de prezentare</h2>
            <iframe allowfullscreen src="#"></iframe>
        </section>

        <section>
            <h2> 7. Referinte </h2>
            <ul>
                <li> <a href="https://developer.mozilla.org/en-US/">MDN</a></li>
                <li> <a href="https://profs.info.uaic.ro/~busaco/teach/courses/web/"> TW Course</a></li>
                <li> <a href="https://subredditstats.com/"> Subreddit Stats</a></li>
                <li> <a href="https://plotly.com/"> Plotly </a></li>
                <li><a href="https://coolors.co/palettes/trending">Coolors</a></li>
                <li>
                    <a href="https://www.reddit.com/dev/api/">Reddit API</a>
                </li>
                <li>
                    <a href="https://github.com/reddit-archive/reddit/wiki/oauth2">OAuth2 for Reddit</a>
                </li>
                <li>
                    <a href="https://dmitripavlutin.com/javascript-fetch-async-await/">Fetch with Async and Await</a>
                </li>
            </ul>
        </section>

    </article>
</body>

</html>